"use client"

import { motion } from "framer-motion"

interface TechIconProps {
  name: string
  className?: string
}

export function TechIcon({ name, className = "w-8 h-8" }: TechIconProps) {
  const iconVariants = {
    initial: { scale: 1, rotate: 0 },
    hover: { scale: 1.1, rotate: 5 },
    tap: { scale: 0.95 },
  }

  const getIcon = (techName: string) => {
    switch (techName.toLowerCase()) {
      case "react":
        return (
          <svg viewBox="0 0 24 24" className={className} fill="#61DAFB">
            <circle cx="12" cy="12" r="2" />
            <path d="M12 1c-4.97 0-9 4.03-9 9s4.03 9 9 9 9-4.03 9-9-4.03-9-9-9zm0 16c-3.86 0-7-3.14-7-7s3.14-7 7-7 7 3.14 7 7-3.14 7-7 7z" />
            <path d="M12 7c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5zm0 8c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3z" />
          </svg>
        )
      case "react native":
        return (
          <svg viewBox="0 0 24 24" className={className} fill="#61DAFB">
            <circle cx="12" cy="12" r="2" />
            <path d="M12 1c-4.97 0-9 4.03-9 9s4.03 9 9 9 9-4.03 9-9-4.03-9-9-9zm0 16c-3.86 0-7-3.14-7-7s3.14-7 7-7 7 3.14 7 7-3.14 7-7 7z" />
            <path d="M12 7c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5zm0 8c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3z" />
          </svg>
        )
      case "next.js":
      case "nextjs":
        return (
          <svg viewBox="0 0 24 24" className={className} fill="currentColor">
            <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10c5.51 0 10-4.48 10-10S17.51 2 12 2zm-.5 17.93c-4.63-.5-8.25-4.3-8.25-9.43 0-.9.13-1.78.37-2.59L14 18.28c-1 .27-2.06.42-3.17.42-.11 0-.22-.01-.33-.01zm9.25-2.93c-.9 4.63-4.7 8.25-9.43 8.25-.9 0-1.78-.13-2.59-.37L18.28 10c.27 1 .42 2.06.42 3.17 0 .11-.01.22-.01.33z" />
          </svg>
        )
      case "typescript":
        return (
          <svg viewBox="0 0 24 24" className={className} fill="#3178C6">
            <rect width="24" height="24" rx="2" fill="#3178C6" />
            <path d="M9.5 9v10.5h2V11h2.5V9H9.5zm6.5 0v2h2v8.5h2V11h2V9h-6z" fill="white" />
          </svg>
        )
      case "javascript":
        return (
          <svg viewBox="0 0 24 24" className={className} fill="#F7DF1E">
            <rect width="24" height="24" rx="2" fill="#F7DF1E" />
            <path
              d="M7.5 15.5c0 1.5 1 2.5 2.5 2.5s2.5-1 2.5-2.5V9h-2v6.5c0 .5-.5 1-1 1s-1-.5-1-1V15.5h-1zm7-6.5h-2v9c0 1.5 1 2.5 2.5 2.5 1.5 0 2.5-1 2.5-2.5V9h-2v9c0 .5-.5 1-1 1s-1-.5-1-1V9z"
              fill="black"
            />
          </svg>
        )
      case "flutter":
        return (
          <svg viewBox="0 0 24 24" className={className} fill="#02569B">
            <path d="M14.314 0L2.3 12 6 15.7 21.684.013h-7.357zm.014 11.072L7.857 17.53l6.47 6.47H21.7l-6.46-6.468 6.46-6.46h-7.37z" />
          </svg>
        )
      case "dart":
        return (
          <svg viewBox="0 0 24 24" className={className} fill="#0175C2">
            <path d="M4.105 4.105S9.158 1.58 11.684.316a3.079 3.079 0 0 1 1.481-.315c.766.047 1.677.788 1.677.788L24 9.948v9.789h-4.263V24H9.789l-9.342-9.342a2.96 2.96 0 0 1-.342-1.684c.047-.936.342-1.815.342-1.815L4.105 4.105z" />
          </svg>
        )
      case "node.js":
      case "nodejs":
        return (
          <svg viewBox="0 0 24 24" className={className} fill="#339933">
            <path d="M12 1.85c-.27 0-.55.07-.78.2l-7.44 4.3c-.48.28-.78.8-.78 1.36v8.58c0 .56.3 1.08.78 1.36l7.44 4.3c.46.26 1.04.26 1.5 0l7.44-4.3c.48-.28.78-.8.78-1.36V7.71c0-.56-.3-1.08-.78-1.36l-7.44-4.3c-.23-.13-.51-.2-.78-.2z" />
          </svg>
        )
      case "swift":
        return (
          <svg viewBox="0 0 24 24" className={className} fill="#FA7343">
            <path d="M7.508 0c-.287 0-.573.09-.802.267L.267 5.394C.098 5.537 0 5.749 0 5.972v12.056c0 .223.098.435.267.578l6.439 5.127c.229.177.515.267.802.267h8.984c.287 0 .573-.09.802-.267l6.439-5.127c.169-.143.267-.355.267-.578V5.972c0-.223-.098-.435-.267-.578L16.294.267C16.065.09 15.779 0 15.492 0H7.508z" />
          </svg>
        )
      case "kotlin":
        return (
          <svg viewBox="0 0 24 24" className={className} fill="#7F52FF">
            <path d="M24 24H0V0h24L12 12 24 24z" />
          </svg>
        )
      case "firebase":
        return (
          <svg viewBox="0 0 24 24" className={className} fill="#FFCA28">
            <path d="M5.016 18.573l.95-15.459a.535.535 0 0 1 .948-.323l1.635 2.003-3.533 13.779z" />
            <path d="M18.984 18.573L14.984 8.24l-1.635-3.008a.535.535 0 0 0-.95 0l-1.635 3.008L5.016 18.573l6.968 3.71 6.968-3.71z" />
          </svg>
        )
      case "aws":
        return (
          <svg viewBox="0 0 24 24" className={className} fill="#FF9900">
            <path d="M6.763 10.036c0 .296.032.535.088.71.064.176.144.368.256.576.04.063.056.127.056.183 0 .08-.048.16-.152.24l-.503.335c-.072.048-.144.072-.208.072-.08 0-.16-.04-.239-.112a2.417 2.417 0 0 1-.287-.375 6.18 6.18 0 0 1-.248-.471c-.622.734-1.405 1.101-2.347 1.101-.671 0-1.205-.191-1.596-.574-.391-.383-.591-.894-.591-1.533 0-.678.239-1.23.726-1.644.487-.415 1.133-.623 1.955-.623.27 0 .551.024.846.064.296.04.6.104.918.176v-.583c0-.607-.127-1.031-.375-1.271-.255-.24-.686-.36-1.295-.36-.279 0-.567.032-.862.104-.295.072-.583.16-.862.272-.128.056-.224.088-.279.104-.056.016-.096.024-.128.024-.112 0-.168-.08-.168-.248v-.391c0-.128.016-.224.056-.28.04-.056.112-.112.207-.16.279-.144.614-.264 1.005-.36A4.86 4.86 0 0 1 5.96 4.18c.886 0 1.533.2 1.955.607.415.407.623 1.023.623 1.846v3.403zm-3.24 1.214c.263 0 .535-.048.822-.144.287-.096.543-.271.758-.51.128-.152.224-.32.279-.51.056-.191.088-.423.088-.694v-.335a6.66 6.66 0 0 0-.735-.136 6.02 6.02 0 0 0-.75-.048c-.535 0-.926.104-1.189.32-.263.215-.391.518-.391.917 0 .375.095.655.279.838.191.191.447.287.774.287l.065.015zm6.43.862c-.144 0-.24-.024-.304-.08-.064-.048-.12-.16-.168-.311L7.586 5.55c-.048-.16-.072-.263-.072-.32 0-.128.064-.2.191-.2h.783c.151 0 .255.024.31.08.065.048.113.16.161.311l1.525 6.014 1.414-6.014c.04-.16.088-.263.153-.311.064-.056.175-.08.318-.08h.638c.151 0 .255.024.318.08.065.048.12.16.153.311l1.43 6.078 1.574-6.078c.048-.16.104-.263.16-.311.065-.056.16-.08.32-.08h.742c.128 0 .2.064.2.2 0 .04-.009.08-.017.128-.008.048-.024.112-.056.2l-2.177 6.585c-.048.16-.104.263-.168.311-.064.056-.168.08-.312.08h-.687c-.151 0-.255-.024-.318-.08-.065-.048-.12-.16-.153-.319L13.692 7.8l-1.406 5.447c-.04.16-.088.271-.153.319-.064.056-.175.08-.318.08h-.687zm10.256.215c-.415 0-.83-.048-1.229-.144-.399-.096-.71-.2-.918-.32-.128-.071-.215-.151-.247-.223-.032-.072-.056-.151-.056-.24v-.407c0-.167.064-.247.183-.247.048 0 .096.008.144.024.048.016.12.048.2.08.271.12.566.215.878.279.32.064.63.096.95.096.502 0 .894-.088 1.165-.264.279-.176.415-.423.415-.75 0-.224-.072-.415-.207-.583-.144-.167-.415-.32-.83-.454l-1.19-.375c-.598-.191-1.037-.454-1.324-.798-.279-.336-.423-.718-.423-1.149 0-.335.072-.63.207-.886.144-.255.335-.479.575-.654.24-.184.51-.32.83-.415.32-.095.654-.144 1.006-.144.183 0 .375.016.559.04.191.024.367.056.535.096.16.04.31.088.447.136.144.048.255.096.32.144.112.08.191.16.231.24.048.08.072.175.072.287v.375c0 .168-.064.256-.184.256-.064 0-.168-.032-.303-.088-.455-.2-.967-.296-1.541-.296-.455 0-.815.072-1.06.224-.24.151-.367.375-.367.67 0 .224.08.415.24.583.159.167.454.32.886.454l1.165.359c.59.183 1.014.439 1.277.767.263.328.391.695.391 1.118 0 .343-.072.654-.207.926-.144.271-.335.51-.583.718-.24.2-.535.367-.878.479-.336.127-.702.191-1.093.191z" />
          </svg>
        )
      case "git":
        return (
          <svg viewBox="0 0 24 24" className={className} fill="#F05032">
            <path d="M23.546 10.93L13.067.452c-.604-.603-1.582-.603-2.188 0L8.708 2.627l2.76 2.76c.645-.215 1.379-.07 1.889.441.516.515.658 1.258.438 1.9l2.658 2.66c.645-.223 1.387-.078 1.9.435.721.72.721 1.884 0 2.604-.719.719-1.881.719-2.6 0-.539-.541-.674-1.337-.404-1.996L12.86 8.955v6.525c.176.086.342.203.488.348.713.721.713 1.883 0 2.6-.719.721-1.889.721-2.609 0-.719-.719-.719-1.879 0-2.598.182-.18.387-.316.605-.406V8.835c-.217-.091-.424-.222-.6-.401-.545-.545-.676-1.342-.396-2.009L7.636 3.7.45 10.881c-.6.605-.6 1.584 0 2.189l10.48 10.477c.604.604 1.582.604 2.186 0l10.43-10.43c.605-.603.605-1.582 0-2.187" />
          </svg>
        )
      case "docker":
        return (
          <svg viewBox="0 0 24 24" className={className} fill="#2496ED">
            <path d="M13.983 11.078h2.119a.186.186 0 00.186-.185V9.006a.186.186 0 00-.186-.186h-2.119a.185.185 0 00-.185.185v1.888c0 .102.083.185.185.185m-2.954-5.43h2.118a.186.186 0 00.186-.186V3.574a.186.186 0 00-.186-.185h-2.118a.185.185 0 00-.185.185v1.888c0 .102.082.185.185.186m0 2.716h2.118a.187.187 0 00.186-.186V6.29a.186.186 0 00-.186-.185h-2.118a.185.185 0 00-.185.185v1.887c0 .102.082.185.185.186m-2.93 0h2.12a.186.186 0 00.184-.186V6.29a.185.185 0 00-.185-.185H8.1a.185.185 0 00-.185.185v1.887c0 .102.083.185.185.186m-2.964 0h2.119a.186.186 0 00.185-.186V6.29a.185.185 0 00-.185-.185H5.136a.186.186 0 00-.186.185v1.887c0 .102.084.185.186.186m5.893 2.715h2.118a.186.186 0 00.186-.185V9.006a.186.186 0 00-.186-.186h-2.118a.185.185 0 00-.185.185v1.888c0 .102.082.185.185.185m-2.93 0h2.12a.185.185 0 00.184-.185V9.006a.185.185 0 00-.184-.186h-2.12a.185.185 0 00-.184.185v1.888c0 .102.083.185.185.185m-2.964 0h2.119a.185.185 0 00.185-.185V9.006a.185.185 0 00-.184-.186h-2.12a.186.186 0 00-.186.186v1.887c0 .102.084.185.186.185m-2.92 0h2.12a.185.185 0 00.184-.185V9.006a.185.185 0 00-.184-.186h-2.12a.185.185 0 00-.184.185v1.888c0 .102.082.185.185.185M23.763 9.89c-.065-.051-.672-.51-1.954-.51-.338 0-.676.033-1.01.099-.663-1.998-2.639-2.676-2.639-2.676-.464-.212-.896.255-.896.255-.175.3-.353.676-.353.676-.322.53-.663 1.708-.663 1.708-.322 1.187-.322 2.322-.322 2.322 0 .255.021.51.063.764H.295c-.33 0-.295.422-.295.422v.07c0 .086.013.172.039.256.13 1.428.69 2.734 1.578 3.68 1.033 1.103 2.449 1.711 3.994 1.711 2.449 0 4.898-.544 6.947-1.632 2.449-1.299 4.898-3.680 4.898-3.680.663-.663 1.187-1.425 1.578-2.287.391-.863.391-1.726.391-1.726 0-.255-.021-.51-.063-.764h2.449c.33 0 .295-.422.295-.422v-.07c0-.086-.013-.172-.039-.256-.13-1.428-.69-2.734-1.578-3.68z" />
          </svg>
        )
      default:
        return (
          <div
            className={`${className} bg-gradient-to-br from-primary/20 to-primary/40 rounded-lg flex items-center justify-center`}
          >
            <span className="text-xs font-bold text-primary">{techName.slice(0, 2).toUpperCase()}</span>
          </div>
        )
    }
  }

  return (
    <motion.div
      variants={iconVariants}
      initial="initial"
      whileHover="hover"
      whileTap="tap"
      className="inline-block cursor-pointer"
    >
      {getIcon(name)}
    </motion.div>
  )
}

export function AnimatedTechGrid({ technologies }: { technologies: string[] }) {
  const containerVariants = {
    hidden: { opacity: 0 },
    visible: {
      opacity: 1,
      transition: {
        staggerChildren: 0.1,
      },
    },
  }

  const itemVariants = {
    hidden: { y: 20, opacity: 0 },
    visible: {
      y: 0,
      opacity: 1,
      transition: {
        type: "spring",
        stiffness: 100,
      },
    },
  }

  return (
    <motion.div
      variants={containerVariants}
      initial="hidden"
      animate="visible"
      className="flex flex-wrap justify-center gap-6"
    >
      {technologies.map((tech, index) => (
        <motion.div key={tech} variants={itemVariants} className="flex flex-col items-center space-y-2 group">
          <div className="p-3 rounded-xl bg-background border shadow-sm group-hover:shadow-md transition-shadow">
            <TechIcon name={tech} className="w-10 h-10" />
          </div>
          <span className="text-sm font-medium text-muted-foreground group-hover:text-foreground transition-colors">
            {tech}
          </span>
        </motion.div>
      ))}
    </motion.div>
  )
}
